!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";var r=n(4);e.exports=function(e){e.x.domain(e.data.map(function(e){return e.key})),e.y.domain([0,d3.max(e.data,function(e){return e.value})]),r.call(this,e),this.selectAll(".bar").data(e.data).enter().append("rect").classed("bar",!0),this.selectAll(".bar-label").data(e.data).enter().append("text").classed("bar-label",!0),this.selectAll(".bar").transition().duration(1500).ease("bounce").delay(500).attr("x",function(t,n){return e.x(t.key)}).attr("y",function(t,n){return e.y(t.value)}).attr("width",function(t,n){return e.x.rangeBand()}).attr("height",function(t,n){return e.height-e.y(t.value)}).style("fill",function(t,n){return e.ordinalColorScale(n)}),this.selectAll(".bar-label").transition().duration(1500).ease("bounce").delay(500).attr("x",function(t,n){return e.x(t.key)+e.x.rangeBand()/2}).attr("dx",0).attr("y",function(t,n){return e.y(t.value)}).attr("dy",function(e,t){return e.value<1?-10:50}).style("fill",function(e,t){return e.value<1?"red":"white"}).text(function(e,t){return e.value}),this.selectAll(".bar").data(e.data).exit().remove(),this.selectAll(".bar-label").data(e.data).exit().remove()}},function(e,t,n){"use strict";n(6);e.exports=function(e){function t(e){window.event&&(e=window.event);var t=document.getElementById(h),p=parseInt(null!=e.target.id?e.target.id:0),v=!(p===p);if(null!=e.target.id&&v)switch(e.target.id){case d:n(t);break;case c:r(e);break;case u:i(e);case f:l(e);break;case m+"_btn":o(t);break;case m:s(t)}if(null!=e.target.className&&!v)switch(e.target.className){case g:a(e)}}function n(t){if(!document.getElementById(u)){if(document.getElementById(m))return void document.getElementById(c).click();document.querySelector(".form__container__options.selected")&&(document.querySelector(".form__container__options.selected").className="form__container__options"),i(e);var n=document.createElement("input"),r=document.createElement("div"),a=document.createElement("div");n.className="form__wrapper__options",n.maxLength=25,n.setAttribute("id",u),n.name="newOption",r.className="form__wrapper__cancel btn btn--medium btn--full",r.setAttribute("id",c),r.innerHTML="Cancel",a.appendChild(n),a.appendChild(r),a.className="form__wrapper",t.insertBefore(a,t.lastChild),t.lastChild.value="Submit Vote with My Option",n.focus()}}function r(e){var t=e.target.parentNode.parentNode,n=e.target.parentNode;document.getElementsByClassName("warning").length>0&&t.removeChild(t.lastChild.previousSibling),n.style.width="0px",e.target.style.width="0px",e.target.style.color="#fff",e.target.style.textShadow="none",setTimeout(function(){n.removeChild(n.lastChild),n.firstChild.value="",n.firstChild.style.width="0px"},50),setTimeout(function(){t.removeChild(t.lastChild.previousSibling),t.lastChild.value="Submit Vote"},500)}function a(e){var t=document.getElementById(p);JSON.parse(document.getElementById("poll_data").value);i(e),t.value=e.target.id;for(var n=document.getElementsByClassName("form__container__options"),r=document.getElementById(u),a=document.getElementById(m),l=n.length,o=0;o<l;o++)n.item(o).className=g;(r||a)&&document.getElementById(c).click(),e.target.className=e.target.className+" selected"}function i(e){var t=document.getElementById("fs");document.getElementsByClassName("warning").length>0&&t.removeChild(t.lastChild.previousSibling)}function l(e){function t(e){var t=document.getElementById("fs"),a=document.createElement("div");switch(a.className="warning",a.style.color="red",e){case n:a.innerHTML="Input new option or close the input field!";break;case r:a.innerHTML="Please select or add one option!";break;default:a.innerHTML="Unexpected error. Try reloading the page."}t.insertBefore(a,t.lastChild)}var n="empty",r="no_value",a=null;null!=(a=document.getElementById(u))?""!==a.value?document.getElementById(p).value=a.value:""===a.value&&"new_option"!==e.target.id&&(e.preventDefault(),document.getElementsByClassName("warning").length>0||t(n)):document.querySelector(".form__container__options.selected")||"delete"===document.getElementById(p).value||(e.preventDefault(),document.getElementsByClassName("warning").length>0||t(r))}function o(e){if(document.getElementById(u))return void document.getElementById(c).click();if(!document.getElementById(m)){document.querySelector(".form__container__options.selected")&&(document.querySelector(".form__container__options.selected").className="form__container__options");var t=document.createElement("input"),n=document.createElement("div"),r=document.createElement("div");t.className="form__wrapper__delete btn btn--medium btn--full",t.value="Delete",t.name="delete_poll",t.setAttribute("id",m),n.className="form__wrapper__cancel-delete btn btn--medium btn--full",n.setAttribute("id",c),n.innerHTML="Cancel",r.appendChild(t),r.appendChild(n),r.className="form__wrapper",e.insertBefore(r,e.lastChild)}}function s(e){document.getElementById(p).value="delete",e.lastChild.click()}var c="cancel_option",u="new_option",d="add",m="delete",f="submit",p="voted_option",h="fs",g="form__container__options";document.getElementById("poll_form").addEventListener("click",t)}},,,function(e,t,n){"use strict";e.exports=function(e){!0===e.initialize?(this.append("g").classed("gridline",!0).attr("transform","translate(0,0)").call(e.gridlines),this.append("g").classed("x axis",!0).attr("transform","translate(0,"+e.height+")").call(e.axis.x).selectAll("text").classed("x-axis-label",!0).style("text-anchor","end").attr("dx",-8).attr("dy",8).style("fill",function(t,n){return e.ordinalColorScale(n)}).attr("transform","translate(0,0) rotate(-60)"),this.append("g").classed("y axis",!0).attr("transform","translate(0,0)").call(e.axis.y).selectAll("text").classed("y-axis-label",!0).style("text-anchor","end"),this.select(".y.axis").append("text").text("Votes").classed("y-axis-anchor",!0).attr("x",-e.height/2).attr("y",-40).style("text-anchor","middle").attr("transform","rotate(-90)")):!1===e.initialize&&(this.selectAll("g.x.axis").transition().duration(1500).ease("bounce").delay(500).call(e.axis.x),this.selectAll(".x-axis-label").style("text-anchor","end").style("fill",function(t,n){return e.ordinalColorScale(n)}).attr("transform","translate(0,0) rotate(-60)"),this.selectAll("g.y.axis").transition().duration(1500).ease("bounce").delay(500).call(e.axis.y))}},function(e,t,n){"use strict";function r(){setTimeout(function(){var e=null;(e=document.getElementById("error"))&&(e.style.opacity="0")},3e3);var e=JSON.parse(document.getElementById("poll_data").value),t=e.options.map(function(e,t){return{key:e[0],value:e[1]}}),n=d3.max(t,function(e){return e.value}),r=d3.scale.ordinal().domain(t.map(function(e){return e.key})).rangeBands([0,c]),i=d3.scale.linear().domain([0,d3.max(t,function(e){return e.value})]).range([u,0]),d=d3.svg.axis().scale(i).tickSize(-c,0,0).tickFormat("").orient("left").ticks(n),m=(d3.scale.linear().domain([0,t.length]).range(["#572500","#F68026"]),d3.scale.category20()),f=d3.svg.axis().scale(r).orient("bottom").tickSize(0),p=d3.svg.axis().scale(i).orient("left").ticks(n),h=d3.select("#graph").append("svg").attr("id","chart").attr("width",l).attr("height",o),g=h.append("g").classed("display",!0).attr("transform","translate("+s.left+", "+s.top+")"),v=d3.select("#graph").append("div").attr("id","controls"),y=v.append("button").html("Sort data: ascending").attr("state",0);g.append("text").classed("chart-title",!0).html(e.title).attr("x",c/2).attr("y",-40).attr("transform","translate(0,0)").style("text-anchor","middle"),a.call(g,{data:t,x:r,y:i,height:u,axis:{x:f,y:p},ordinalColorScale:m,gridlines:d,initialize:!0}),y.on("click",function(){var e=d3.select(this),n=function(e,t){return e.value-t.value},l=function(e,t){return t.value-e.value},o=+e.attr("state"),s="Sort data: ",c=null;0===o?(c=t.sort(n),o=1,s+="descending"):1===o&&(c=t.sort(l),o=0,s+="ascending"),e.attr("state",o),e.html(s),a.call(g,{data:c,x:r,y:i,height:u,axis:{x:f,y:p},ordinalColorScale:m,gridlines:d,initialize:!1})})}var a=n(0),i=n(1);document.addEventListener("DOMContentLoaded",r),document.addEventListener("DOMContentLoaded",i);var l=(window.innerWidth,+window.innerWidth>999?.7*+window.innerWidth:+window.innerWidth),o=+window.innerHeight/1.2,s={top:100,bottom:120,left:+window.innerWidth<999?40:80,right:20},c=l-s.left-s.right,u=o-s.top-s.bottom},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var l=i>=0?arguments[i]:e.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(t=l+"/"+t,a="/"===l.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),i="/"===l(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&i&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),i=r(n.split("/")),l=Math.min(a.length,i.length),o=l,s=0;s<l;s++)if(a[s]!==i[s]){o=s;break}for(var c=[],s=o;s<a.length;s++)c.push("..");return c=c.concat(i.slice(o)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var l="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(7))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function l(){h&&f&&(h=!1,f.length?p=f.concat(p):g=-1,p.length&&o())}function o(){if(!h){var e=a(l);h=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,d,m=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var f,p=[],h=!1,g=-1;m.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||a(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=c,m.addListener=c,m.once=c,m.off=c,m.removeListener=c,m.removeAllListeners=c,m.emit=c,m.prependListener=c,m.prependOnceListener=c,m.listeners=function(e){return[]},m.binding=function(e){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(e){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}}]);