!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";var r=n(4);t.exports=function(t){t.x.domain(t.data.map(function(t){return t.key})),t.y.domain([0,d3.max(t.data,function(t){return t.value})]),r.call(this,t),this.selectAll(".bar").data(t.data).enter().append("rect").classed("bar",!0),this.selectAll(".bar-label").data(t.data).enter().append("text").classed("bar-label",!0),this.selectAll(".bar").transition().duration(1500).ease("bounce").delay(500).attr("x",function(e,n){return t.x(e.key)}).attr("y",function(e,n){return t.y(e.value)}).attr("width",function(e,n){return t.x.rangeBand()}).attr("height",function(e,n){return t.height-t.y(e.value)}).style("fill",function(e,n){return t.ordinalColorScale(n)}),this.selectAll(".bar-label").transition().duration(1500).ease("bounce").delay(500).attr("x",function(e,n){return t.x(e.key)+t.x.rangeBand()/2}).attr("dx",0).attr("y",function(e,n){return t.y(e.value)}).attr("dy",function(t,e){return t.value<1?-10:50}).style("fill",function(t,e){return t.value<1?"red":"white"}).text(function(t,e){return t.value}),this.selectAll(".bar").data(t.data).exit().remove(),this.selectAll(".bar-label").data(t.data).exit().remove()}},function(t,e,n){"use strict";n(6);t.exports=function(t){function e(t){window.event&&(t=window.event);var e=document.getElementById(h),p=parseInt(null!=t.target.id?t.target.id:0),v=!(p===p);if(null!=t.target.id&&v)switch(t.target.id){case d:n(e);break;case c:r(t);break;case u:i(t);case m:l(t);break;case f+"_btn":o(e);break;case f:s(e)}if(null!=t.target.className&&!v)switch(t.target.className){case g:a(t)}}function n(e){if(!document.getElementById(u)){if(document.getElementById(f))return void document.getElementById(c).click();document.querySelector(".form__options.selected")&&(document.querySelector(".form__options.selected").className="form__options"),i(t);var n=document.createElement("input"),r=document.createElement("div"),a=document.createElement("div");n.className="form__wrapper__options",n.maxLength=25,n.setAttribute("id",u),n.name="newOption",r.className="form__wrapper__cancel btn btn--medium btn--full",r.setAttribute("id",c),r.innerHTML="Cancel",a.appendChild(n),a.appendChild(r),a.className="form__wrapper",e.insertBefore(a,e.lastChild),e.lastChild.value="Submit Vote with My Option",n.focus()}}function r(t){var e=t.target.parentNode.parentNode,n=t.target.parentNode;null!=document.getElementById("warning")&&e.removeChild(e.lastChild.previousSibling),n.style.width="0px",t.target.style.width="0px",t.target.style.color="#fff",t.target.style.textShadow="none",setTimeout(function(){n.removeChild(n.lastChild),n.firstChild.value="",n.firstChild.style.width="0px"},50),setTimeout(function(){e.removeChild(e.lastChild.previousSibling),e.lastChild.value="Submit Vote"},500)}function a(t){var e=document.getElementById(p);JSON.parse(document.getElementById("poll_data").value);i(t),e.value=t.target.id;for(var n=document.getElementsByClassName("form__options"),r=document.getElementById(u),a=document.getElementById(f),l=n.length,o=0;o<l;o++)n.item(o).className=g;(r||a)&&document.getElementById(c).click(),t.target.className=t.target.className+" selected"}function i(t){var e=document.getElementById("fs");null!=document.getElementById("warning")&&e.removeChild(e.lastChild.previousSibling)}function l(t){function e(t){var e=document.getElementById("fs"),a=document.createElement("div");switch(a.setAttribute("id","warning"),a.style.color="red",t){case n:a.innerHTML="Input new option or close the input field!";break;case r:a.innerHTML="Please select or add one option!";break;default:a.innerHTML="Unexpected error. Try reloading the page."}e.insertBefore(a,e.lastChild)}var n="empty",r="no_value",a=null;null!=(a=document.getElementById(u))?""!==a.value?document.getElementById(p).value=a.value:""===a.value&&"new_option"!==t.target.id&&(t.preventDefault(),"warning"===t.target.previousSibling.id||e(n)):document.querySelector(".form__options.selected")||"delete"===document.getElementById(p).value||(t.preventDefault(),"warning"===t.target.previousSibling.id||e(r)),console.log(document.getElementById(p).value)}function o(t){if(document.getElementById(u))return void document.getElementById(c).click();if(!document.getElementById(f)){document.querySelector(".form__options.selected")&&(document.querySelector(".form__options.selected").className="form__options");var e=document.createElement("input"),n=document.createElement("div"),r=document.createElement("div");e.className="form__wrapper__delete btn btn--medium btn--full",e.value="Go ahead!",e.name="delete_poll",e.setAttribute("id",f),n.className="form__wrapper__cancel-delete btn btn--medium btn--full",n.setAttribute("id",c),n.innerHTML="Cancel",r.appendChild(e),r.appendChild(n),r.className="form__wrapper",t.insertBefore(r,t.lastChild)}}function s(t){document.getElementById(p).value="delete",t.lastChild.click()}var c="cancel_option",u="new_option",d="add",f="delete",m="submit",p="voted_option",h="fs",g="form__options";document.getElementById("poll_form").addEventListener("click",e)}},,,function(t,e,n){"use strict";t.exports=function(t){!0===t.initialize?(this.append("g").classed("gridline",!0).attr("transform","translate(0,0)").call(t.gridlines),this.append("g").classed("x axis",!0).attr("transform","translate(0,"+t.height+")").call(t.axis.x).selectAll("text").classed("x-axis-label",!0).style("text-anchor","end").attr("dx",-8).attr("dy",8).style("fill",function(e,n){return t.ordinalColorScale(n)}).attr("transform","translate(0,0) rotate(-60)"),this.append("g").classed("y axis",!0).attr("transform","translate(0,0)").call(t.axis.y).selectAll("text").classed("y-axis-label",!0).style("text-anchor","end"),this.select(".y.axis").append("text").text("Votes").classed("y-axis-anchor",!0).attr("x",-t.height/2).attr("y",-40).style("text-anchor","middle").attr("transform","rotate(-90)")):!1===t.initialize&&(this.selectAll("g.x.axis").transition().duration(1500).ease("bounce").delay(500).call(t.axis.x),this.selectAll(".x-axis-label").style("text-anchor","end").style("fill",function(e,n){return t.ordinalColorScale(n)}).attr("transform","translate(0,0) rotate(-60)"),this.selectAll("g.y.axis").transition().duration(1500).ease("bounce").delay(500).call(t.axis.y))}},function(t,e,n){"use strict";function r(){var t=JSON.parse(document.getElementById("poll_data").value),e=t.options.map(function(t,e){return{key:t[0],value:t[1]}}),n=d3.max(e,function(t){return t.value}),r=d3.scale.ordinal().domain(e.map(function(t){return t.key})).rangeBands([0,c]),i=d3.scale.linear().domain([0,d3.max(e,function(t){return t.value})]).range([u,0]),d=d3.svg.axis().scale(i).tickSize(-c,0,0).tickFormat("").orient("left").ticks(n),f=(d3.scale.linear().domain([0,e.length]).range(["#572500","#F68026"]),d3.scale.category20()),m=d3.svg.axis().scale(r).orient("bottom").tickSize(0),p=d3.svg.axis().scale(i).orient("left").ticks(n),h=d3.select("#graph").append("svg").attr("id","chart").attr("width",l).attr("height",o),g=h.append("g").classed("display",!0).attr("transform","translate("+s.left+", "+s.top+")"),v=d3.select("#graph").append("div").attr("id","controls"),y=v.append("button").html("Sort data: ascending").attr("state",0);g.append("text").classed("chart-title",!0).html(t.title).attr("x",c/2).attr("y",-40).attr("transform","translate(0,0)").style("text-anchor","middle"),a.call(g,{data:e,x:r,y:i,height:u,axis:{x:m,y:p},ordinalColorScale:f,gridlines:d,initialize:!0}),y.on("click",function(){var t=d3.select(this),n=function(t,e){return t.value-e.value},l=function(t,e){return e.value-t.value},o=+t.attr("state"),s="Sort data: ",c=null;0===o?(c=e.sort(n),o=1,s+="descending"):1===o&&(c=e.sort(l),o=0,s+="ascending"),t.attr("state",o),t.html(s),a.call(g,{data:c,x:r,y:i,height:u,axis:{x:m,y:p},ordinalColorScale:f,gridlines:d,initialize:!1})})}var a=n(0),i=n(1);document.addEventListener("DOMContentLoaded",r),document.addEventListener("DOMContentLoaded",i);var l=(window.innerWidth,+window.innerWidth>999?.7*+window.innerWidth:+window.innerWidth),o=+window.innerHeight/1.2,s={top:100,bottom:120,left:+window.innerWidth<999?40:80,right:40},c=l-s.left-s.right,u=o-s.top-s.bottom;console.log(l,o)},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var a=t[r];"."===a?t.splice(r,1):".."===a?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return a.exec(t).slice(1)};e.resolve=function(){for(var e="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var l=i>=0?arguments[i]:t.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(e=l+"/"+e,a="/"===l.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!a).join("/"),(a?"/":"")+e||"."},e.normalize=function(t){var a=e.isAbsolute(t),i="/"===l(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!a).join("/"),t||a||(t="."),t&&i&&(t+="/"),(a?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var a=r(t.split("/")),i=r(n.split("/")),l=Math.min(a.length,i.length),o=l,s=0;s<l;s++)if(a[s]!==i[s]){o=s;break}for(var c=[],s=o;s<a.length;s++)c.push("..");return c=c.concat(i.slice(o)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var l="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(7))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function l(){h&&m&&(h=!1,m.length?p=m.concat(p):g=-1,p.length&&o())}function o(){if(!h){var t=a(l);h=!0;for(var e=p.length;e;){for(m=p,p=[];++g<e;)m&&m[g].run();g=-1,e=p.length}m=null,h=!1,i(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var m,p=[],h=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||h||a(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}]);