!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";var r=n(4);t.exports=function(t){t.x.domain(t.data.map(function(t){return t.key})),t.y.domain([0,d3.max(t.data,function(t){return t.value})]),r.call(this,t),this.selectAll(".bar").data(t.data).enter().append("rect").classed("bar",!0),this.selectAll(".bar-label").data(t.data).enter().append("text").classed("bar-label",!0),this.selectAll(".bar").transition().duration(1500).ease("bounce").delay(500).attr("x",function(e,n){return t.x(e.key)}).attr("y",function(e,n){return t.y(e.value)}).attr("width",function(e,n){return t.x.rangeBand()}).attr("height",function(e,n){return t.height-t.y(e.value)}).style("fill",function(e,n){return t.ordinalColorScale(n)}),this.selectAll(".bar-label").transition().duration(1500).ease("bounce").delay(500).attr("x",function(e,n){return t.x(e.key)+t.x.rangeBand()/2}).attr("dx",0).attr("y",function(e,n){return t.y(e.value)}).attr("dy",function(t,e){return t.value<1?-10:50}).style("fill",function(t,e){return t.value<1?"red":"white"}).text(function(t,e){return t.value}),this.selectAll(".bar").data(t.data).exit().remove(),this.selectAll(".bar-label").data(t.data).exit().remove()}},function(t,e,n){"use strict";n(6);t.exports=function(t){function e(t){window.event&&(t=window.event);var e=document.getElementById(o),i=(document.getElementById(l),document.getElementById(s)),c=document.getElementById(u);if(null!=t.target.id&&null!=t.target.className)switch(t.target.id){case o:n(c,e,i);break;case a:r(t)}}function n(t,e,n){if(!document.getElementById(i)){var r=document.createElement("input"),o=document.createElement("div"),l=document.createElement("div");r.className="form__wrapper__options",r.maxLength=25,r.setAttribute("name","voted_option"),r.setAttribute("id",i),r.name="newOption",o.className="form__wrapper__cancel btn btn--medium btn--full",o.setAttribute("id",a),o.innerHTML="Cancel",l.appendChild(r),l.appendChild(o),l.className="form__wrapper",t.insertBefore(l,t.lastChild),r.focus()}}function r(t){window.event&&(t=window.event);var e=t.target.parentNode.parentNode,n=t.target.parentNode;n.style.width="0px",t.target.style.width="0px",t.target.style.color="#fff",t.target.style.textShadow="none",setTimeout(function(){n.removeChild(n.lastChild)},50),setTimeout(function(){e.removeChild(e.lastChild.previousSibling)},300)}var a="cancel_option",i="new_option",o="add",l="delete",s="submit",u="fs";document.getElementById("poll_form").addEventListener("click",e)}},,,function(t,e,n){"use strict";t.exports=function(t){!0===t.initialize?(this.append("g").classed("gridline",!0).attr("transform","translate(0,0)").call(t.gridlines),this.append("g").classed("x axis",!0).attr("transform","translate(0,"+t.height+")").call(t.axis.x).selectAll("text").classed("x-axis-label",!0).style("text-anchor","end").attr("dx",-8).attr("dy",8).attr("transform","translate(0,0) rotate(-60)"),this.append("g").classed("y axis",!0).attr("transform","translate(0,0)").call(t.axis.y).selectAll("text").classed("y-axis-label",!0).style("text-anchor","end"),this.select(".y.axis").append("text").text("Votes").classed("y-axis-anchor",!0).attr("x",-t.height/2).attr("y",-40).style("text-anchor","middle").attr("transform","rotate(-90)")):!1===t.initialize&&(this.selectAll("g.x.axis").transition().duration(1500).ease("bounce").delay(500).call(t.axis.x),this.selectAll(".x-axis-label").style("text-anchor","end").attr("transform","translate(0,0) rotate(-60)"),this.selectAll("g.y.axis").transition().duration(1500).ease("bounce").delay(500).call(t.axis.y))}},function(t,e,n){"use strict";function r(){var t=JSON.parse(document.getElementById("poll_data").value),e=t.options.map(function(t,e){return{key:t[0],value:t[1]}}),n=d3.max(e,function(t){return t.value}),r=d3.scale.ordinal().domain(e.map(function(t){return t.key})).rangeBands([0,u]),i=d3.scale.linear().domain([0,d3.max(e,function(t){return t.value})]).range([c,0]),d=d3.svg.axis().scale(i).tickSize(-u,0,0).tickFormat("").orient("left").ticks(n),f=(d3.scale.linear().domain([0,e.length]).range(["#572500","#F68026"]),d3.scale.category20()),h=d3.svg.axis().scale(r).orient("bottom").tickSize(0),p=d3.svg.axis().scale(i).orient("left").ticks(n),m=d3.select("#graph").append("svg").attr("id","chart").attr("width",o).attr("height",l),g=m.append("g").classed("display",!0).attr("transform","translate("+s.left+", "+s.top+")"),v=d3.select("#graph").append("div").attr("id","controls"),x=v.append("button").html("Sort data: ascending").attr("state",0);g.append("text").classed("chart-title",!0).html(t.title).attr("x",u/2).attr("y",-40).attr("transform","translate(0,0)").style("text-anchor","middle"),a.call(g,{data:e,x:r,y:i,height:c,axis:{x:h,y:p},ordinalColorScale:f,gridlines:d,initialize:!0}),x.on("click",function(){var t=d3.select(this),n=function(t,e){return t.value-e.value},o=function(t,e){return e.value-t.value},l=+t.attr("state"),s="Sort data: ",u=null;0===l?(u=e.sort(n),l=1,s+="descending"):1===l&&(u=e.sort(o),l=0,s+="ascending"),t.attr("state",l),t.html(s),a.call(g,{data:u,x:r,y:i,height:c,axis:{x:h,y:p},ordinalColorScale:f,gridlines:d,initialize:!1})})}var a=n(0),i=n(1);document.addEventListener("DOMContentLoaded",r),document.addEventListener("DOMContentLoaded",i);var o=(window.innerWidth,+window.innerWidth>1500?+window.innerWidth/1.5:+window.innerWidth),l=+window.innerHeight/1.2,s={top:100,bottom:80,left:80,right:40},u=o-s.left-s.right,c=l-s.top-s.bottom},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var a=t[r];"."===a?t.splice(r,1):".."===a?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return a.exec(t).slice(1)};e.resolve=function(){for(var e="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var o=i>=0?arguments[i]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,a="/"===o.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!a).join("/"),(a?"/":"")+e||"."},e.normalize=function(t){var a=e.isAbsolute(t),i="/"===o(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!a).join("/"),t||a||(t="."),t&&i&&(t+="/"),(a?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var a=r(t.split("/")),i=r(n.split("/")),o=Math.min(a.length,i.length),l=o,s=0;s<o;s++)if(a[s]!==i[s]){l=s;break}for(var u=[],s=l;s<a.length;s++)u.push("..");return u=u.concat(i.slice(l)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(7))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function i(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function o(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&l())}function l(){if(!m){var t=a(o);m=!0;for(var e=p.length;e;){for(h=p,p=[];++g<e;)h&&h[g].run();g=-1,e=p.length}h=null,m=!1,i(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var c,d,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var h,p=[],m=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||m||a(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}]);